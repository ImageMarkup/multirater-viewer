<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset = UTF-8">
    <title>ISIC</title>
    <link rel="stylesheet" type="text/css" href="bower_components/webix/codebase/webix.css">
    <link rel="stylesheet" type="text/css" href="css/isic.css">
    <script type="text/javascript" src="bower_components/webix/codebase/webix.js"></script>


    <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>

    <script type="text/javascript" src="createFeatureWidget.js"></script>

</head>

<body>
    <!-- <div id="main_layout" style="height:100%"></div> -->
    
    <div id="main_layout" style="height:100%"></div>
    <!-- <div id="image_viewer" style="width:100%; height:100%"></div>    -->
    <script>
    //I obtained this from https://isic-archive.com/api/v1#!/featureset/find

    FeatureSetList = [{
        "_id": "57c5fd619fc3c15fb4ce1bff",
        "name": "Basic",
        "version": 1
    }, {
        "_id": "567420f69fc3c14cc3d0ee48",
        "name": "ISBI Challenge 2016",
        "version": 1
    }, {
        "_id": "5821b10d9fc3c13ed29751e2",
        "name": "ISBI Challenge 2017",
        "version": 1
    }, {
        "_id": "580e17c39fc3c11951c28800",
        "name": "ISBI Challenge 2017",
        "version": 2
    }, {
        "_id": "55943d009fc3c13155bcad66",
        "name": "ISIC Analytical",
        "version": 0.1
    }, {
        "_id": "55c3d24c9fc3c149ba6470e1",
        "name": "ISIC Conventional",
        "version": 0.2
    }, {
        "_id": "5809196a9fc3c104822158c0",
        "name": "ISIC Metaphoric Consensus",
        "version": 1
    }, {
        "_id": "573f09bd9fc3c132505c0ee6",
        "name": "Lesion Classification",
        "version": 1
    }, {
        "_id": "55943d009fc3c13155bcad65",
        "name": "UDA2 Study",
        "version": 1
    }]






TopLevelFeatures = ['GlobalFeatures','Globs', 'Lines','Blobs'];

FeatureAccordion = {
    view:"accordion",
    id: "FeatureAccordion",
    multi:false,
    rows: //or rows 
        [
        { header:"col 1", body:"content 1" }, 
        { header:"col 2", body:"content 2" }, 
        
    ]
}

    webix.ready(function() {

        FeatureSetListWidget = {
            view: "combo",
            label: 'Combo',
            value: 0, ///Set the first value?
            options: {
                body: {
                    template: "#name#",
                    data: FeatureSetList
                }
            }
        };

        var layout = webix.ui({
            container: "main_layout",
            id: "layout",
            height: 550,
            width: 700,
            rows: [{
                    cols: [
                        FeatureSetListWidget, {
                            template: "col 2"
                        }
                    ]
                }, FeatureAccordion, 
                {
                    template: "row 2"
                },

            ]
        });

// var copiedObject = jQuery.extend({}, originalObject)


var form1 = [
            { view:"segmented", value:"one", inputWidth:250, options:[
                { id:"one", value:"One" },
                { id:"two", value:"Two"},
                { id:"three", value:"Three"}
            ]},
            { view:"segmented", value:"two", inputWidth:250, options:[
                { id:"one", value:"One" },
                { id:"two", value:"Two"},
                { id:"three", value:"Three"}
            ], align:"center"},
            { view:"segmented", value:"three", inputWidth:250, options:[
                { id:"one", value:"One" },
                { id:"two", value:"Two"},
                { id:"three", value:"Three"}
            ], align:"right"},
            { view:"button", value:"Confirm", width:200, align:"center" }
        ];

        var form2 = [
            { view:"segmented", value:"one", label:"Select one", options:[
                { id:"one", value:"One" },
                { id:"two", value:"Two"},
                { id:"three", value:"Three"}
            ]},
            { view:"segmented", value:"three", label:"Select one", labelPosition:"top", options:[
                { id:"one", value:"One" },
                { id:"two", value:"Two"},
                { id:"three", value:"Three"}
            ]},
            { view:"button", value:"Confirm", width:200, align:"center" }
        ];      

        form3 = { view:"segmented", value:"three", label:"Select one", labelPosition:"top", options:[
                { id:"one", value:"One" },
                { id:"two", value:"Two"},
                { id:"three", value:"Three"}
            ]};

        $.each(TopLevelFeatures, function(x,tlf)
                {
                    console.log(tlf);
                    webix.message(tlf);
              

        ItemGroup = { view: "accordionitem", header:tlf, body: form3  }; 

              //Create/configure a view for this accordion item
  //           ItemGroup =         { rows:[{
  //   view:"accordionitem",
  //   header: "hi",
  //   body:"dyn body coming soon"
  // }]};

            $$('FeatureAccordion').addView(ItemGroup);


                });




    })
    </script>
<!-- webix.ready(function(){
 
  var app = webix.ui({
    view:"accordion",
    multi:true,
    id: 'accordion',
    cols:[ //or rows 
      { 
        header:"col 1",
        id:'col1'
      },
      { header:"col 2", body:"content 2" },
      { header:"col 3", body:"content 3" }
    ]
  });
 
  var config = { rows:[{
    view:"accordionitem",
    header:"dyn header",
    body:"dyn body"
  }]};
 
  // This works
  //$$('accordion').addView(config);
 
 
  // This does not work
  var view = webix.ui(config);
  $$('accordion').addView(view.getChildViews()[0]);
 
}); -->
    <!-- http://webix.com/snippet/f9dbea6a -->
</body>

</html>
